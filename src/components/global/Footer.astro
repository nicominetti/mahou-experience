---
import { getLangFromUrl, useTranslatedPath, useTranslations } from "@i18n/utils";
import { Icon } from "astro-icon/components";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<footer class="section min-h-screen gap-y-10 py-3 lg:gap-y-8">
	<div class="relative flex-grow"></div>
	<div class="relative grid grid-cols-6 gap-y-20 lg:grid-cols-12 lg:text-xl">
		<div class="col-span-6 col-start-1 grid grid-cols-6 gap-6 lg:col-span-8">
			<div class="col-span-2 col-start-4 flex flex-col gap-2 lg:col-span-3">
				<a href="https://x.com/mahou_es" target="_blank">Twitter / X</a>
				<a href="https://www.instagram.com/mahou_es/" target="_blank">Instagram</a>
				<a href="https://www.facebook.com/mahou.es" target="_blank">Facebook</a>
				<a href="https://www.tiktok.com/@mahou_es" target="_blank">TikTok</a>
			</div>
			<div class="col-span-3 row-start-1 lg:col-span-2 lg:col-start-4 lg:row-start-auto">
				<div class="flex flex-col gap-2">
					<a href={translatePath("/")}>Home</a>
					<a href={translatePath("/diseno/")}>Diseña tu camiseta</a>					
					<a href={translatePath("/contact/")}>{t("contacts")}</a>					
				</div>
			</div>
			<div class="col-span-3 mt-10 lg:col-start-4">
				<div class="relative flex flex-col overflow-hidden"></div>
				<div class="relative mt-1 flex h-8 flex-col overflow-hidden">
					<a href="mailto:nminetti87@gmail.com" class="block cursor-pointer overflow-hidden">mahouexperience@mahou.es</a>
				</div>
			</div>
		</div>
		<div class="col-span-6 row-start-1 text-5xl leading-tight lg:col-span-4 lg:row-start-auto lg:text-6xl">
			<a href={translatePath("/")} aria-label="Home" class="logo absolute z-50 flex items-center">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="500"
					height="120"
					viewBox="0 0 120 100"
					style="display: block; width: 500px; height: 120px; min-width: 500px;"
					fill="#980c23">
					<!-- Logo MAHOU con tamaño fijo -->
					<path d="M75.24-31.88c3.1-3.8,3-7.5,1.4-10.7-3.4,3.5-2.4,9.1-1.4,10.7ZM42.84-34.18v-7.7c-1.3,0-3.1,1.8-3.1,3.9s1.6,3.8,3.1,3.8ZM34.24-34.08q0-.1-.1-.2c-1.8-9.1,6.2-11.2,8.7-11.1h6v10.8c0,2.4,1.5,1.6,2.7.5v-11.1c0-3.9-3.3-3.6-3.3-3.6l4.6-3.9h.5c2.9,0,4.1,2.5,4.2,4.9v6.4s5.1-4.4,5.3-4.6c2.4.2,3.2,2,3.2,3.3v8.7c0,2.1,1.6,1.5,2.6.4-2-8.2,2.9-11.3,5.2-12.6l8.7,2.5c.2.4.4,1,.7,1.7,0,0,4.1-3.6,4.9-4.3,2,.3,3.1,1.6,3.3,3v9c0,2.6,1.3,1.7,2.2.9v-12.1h6v10.5c0,3,2.7,2.6,2.7,2.6-1,1-2.7,2.5-3.4,3.1-3-.1-4.4-1.5-5-2.9-.9.9-2.2,2.1-3.2,3-4.8.8-5.2-3.9-5.2-3.9v-7c0-1.1-1-.9-1.9-.9,1.2,8.1-3.7,11.7-7.2,11.9-3.6.3-5.8-1.8-7.1-3.4-1.7,1.5-3.7,3.4-3.7,3.4-3.2.4-5.4-1.3-5.4-4.1v-5.1c0-1.7-1.4-1.7-2.5-1.7v10.6h-6v-3.3s-1.1,1-3.7,3.4c-2.7.9-4.2-1.2-4.9-2.3-.5.4-.9.8-2.6,2.4-3.1,0-5-2.6-5.7-3.6v-.1l-4.3,3.7s-5.4,1.7-5.4-4.9v-11c0-1.7-1.2-1.9-2.4-1.9v17.5h-6.5v-15.6c0-1.6-1-2-2.4-2v17.6h-6.8v-14.7c0-3.8-3.2-3.5-3.2-3.5l4.5-4h1.7c1,0,3.6.8,3.6,3.1l3.6-3.1h1.8c1.4,0,3.6.9,3.6,3.2l3.7-3.2h1.7c1.3,0,3.6.8,3.6,3.2l.1,9.9v1.7c0,3.8,1.7,3.4,2.6,3,0,0-.1-.1-.1-.2"/>
					<!-- Estrellas -->
					<path d="M62.15,60.68l-2.2-6.8-2.2,6.8h-7.3l5.9,4.2-2.3,6.8,5.9-4.2,5.9,4.2-2.3-6.8,5.9-4.2h-7.3Z"/>
					<path d="M42.25,59.58l-1.9-5.7-1.9,5.7h-6.1l4.9,3.5-1.8,5.7,4.9-3.5,4.9,3.5-1.9-5.7,5-3.5h-6.1Z"/>
					<path d="M24.75,58.68l-1.6-4.8-1.6,4.8h-5.1l4.1,3-1.5,4.8,4.1-3,4.2,3-1.6-4.8,4.2-3h-5.2Z"/>
					<path d="M81.45,59.58l-1.9-5.7-1.9,5.7h-6.1l5,3.5-1.9,5.7,4.9-3.5,4.9,3.5-1.8-5.7,4.9-3.5h-6.1Z"/>
					<path d="M98.35,58.68l-1.6-4.8-1.6,4.8h-5.1l4.1,3-1.6,4.8,4.2-3,4.1,3-1.6-4.8,4.2-3h-5.1Z"/>
					<!-- Texto MAHOU -->
					<path d="M87.15,44.98c-1.2-2-2.4-8.9,1.8-13.2,1.9,4,2,8.6-1.8,13.2ZM47.55,42.08c-1.9,0-3.8-2.2-3.8-4.7s2.2-4.8,3.8-4.8v9.5ZM37.05,42.28v.2c-1,.5-3.1,1-3.1-3.7s0,.7,0-2.1v-12.2c0-2.9-2.9-3.9-4.5-3.9h-2.1l-4.4,3.9c0-2.8-2.7-3.9-4.4-3.9h-2.2l-4.4,3.8c0-2.8-3.2-3.8-4.4-3.8h-2.1L-.05,25.38s4-.4,4,4.5v18h8.1v-21.7c1.7,0,3,.4,3,2.5v19.2h8v-21.6c1.5,0,3,.3,3,2.3v13.4c0,8.1,6.5,6,6.5,6l5.2-4.6c.8,1.3,3.2,4.5,6.9,4.5,2-1.9,2.5-2.4,3.1-2.9.8,1.5,2.8,4,6,2.9,3.2-3,4.5-4.2,4.5-4.2v4.1h7.3v-13c1.4,0,3.1,0,3.1,2v6.3c0,3.4,2.6,5.5,6.6,5,0,0,2.4-2.3,4.5-4.2,1.5,2,4.2,4.5,8.6,4.2,4.3-.3,10.2-4.7,8.8-14.7,1,0,2.3-.3,2.3,1.1v8.7s.5,5.7,6.4,4.8c1.2-1.1,2.7-2.6,3.9-3.7.8,1.7,2.4,3.4,6.1,3.6.9-.8,2.9-2.6,4.2-3.9,0,0-3.3.5-3.3-3.1v-12.9h-7.3v14.9c-1.2,1.1-2.7,2.1-2.7-1v-11c-.1-1.8-1.6-3.3-4-3.7-.9.8-6,5.3-6,5.3-.3-.8-.6-1.6-.8-2.1l-10.4-3c-2.9,1.5-8.8,5.4-6.4,15.5-1.2,1.3-3.2,2.1-3.2-.5v-10.7c0-1.7-1.1-3.9-3.9-4.1-.2.2-6.4,5.7-6.4,5.7v-7.9c-.1-3-1.7-6.1-5.2-6.1h-.6l-5.5,4.8s4-.4,4,4.4v13.7c-1.4,1.4-3.3,2.3-3.3-.6v-13.3h-7.4c-3.1-.1-12.9,2.4-10.6,13.6v.3"/>
				</svg>
			</a>
		</div>		
	</div>
	<div class="relative mt-4 flex w-full items-end justify-between gap-y-4 text-sm lg:text-xl lg:font-normal">
		<div>©2025 Mahou Experience</div>
		<!-- https://codepen.io/fliseno1k/pen/WNboLBy -->
		<button
			id="go-top-button"
			aria-label="Go to Top"
			class="fill-transparent transition-colors duration-300 hover:fill-black hover:text-white"
			data-cursor-hover
			data-cursor-parallax>
			<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24">
				<g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
					<circle cx="12" cy="12" r="9"></circle><path d="m15 12l-3-3m0 0l-3 3m3-3v6"></path>
				</g>
			</svg>
		</button>

		<!-- Scroll Up Arrow -->
	</div>
</footer>

<style>
	footer {
		@apply relative flex w-full flex-col;
	}
</style>

<script>
	import { gsap } from "gsap";
	import { ScrollToPlugin } from "gsap/ScrollToPlugin";

	gsap.registerPlugin(ScrollToPlugin);

	function init() {
		var goTopButton = document.getElementById("go-top-button");

		if (!goTopButton) return;

		goTopButton.addEventListener("click", function () {
			gsap.to(window, { duration: 0.5, scrollTo: 0 });
		});
	}

	document.removeEventListener("DOMContentLoaded", init); // astro:page-load
	document.addEventListener("DOMContentLoaded", init); // astro:page-load
</script>

<style>
	/* Custom typography colors for Footer */
	footer p:not([class*="text-"]) {
		color: #43526e !important;
	}

	footer h1:not([class*="text-"]), 
	footer h2:not([class*="text-"]), 
	footer h3:not([class*="text-"]), 
	footer h4:not([class*="text-"]), 
	footer h5:not([class*="text-"]), 
	footer h6:not([class*="text-"]) {
		color: #14142b !important;
	}

	footer a:not([class*="text-"]) {
		color: #3e31fa !important;
	}

	/* Ensure footer has white background like hero */
	footer {
		background-color: #ffffff !important;
	}
</style>
